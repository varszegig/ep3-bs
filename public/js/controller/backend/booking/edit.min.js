!function(){var urlProvider,tagProvider;function updateForm(){var dateEnd=$("#bf-date-end"),payment=$("#bf-payment"),repeat=$("#bf-repeat"),rid;if("0"===repeat.val()?(disableFormElement(dateEnd),disableFormElement(payment)):(enableFormElement(dateEnd),enableFormElement(payment)),$("#bf-rid").val()){disableFormElement(repeat);var editMode=tagProvider.data("edit-mode-tag");"booking"==editMode?(disableFormElement("#bf-time-start"),disableFormElement("#bf-time-end"),disableFormElement("#bf-date-start"),disableFormElement("#bf-date-end")):"reservation"==editMode&&(disableFormElement("#bf-user"),disableFormElement("#bf-sid"),disableFormElement("#bf-status-billing"),disableFormElement("#bf-quantity"),disableFormElement("#bf-notes"))}}function disableFormElement(element){"string"==typeof element&&(element=$(element)),element.attr("disabled","disabled"),element.css("opacity",.5)}function enableFormElement(element){"string"==typeof element&&(element=$(element)),element.removeAttr("disabled"),element.css("opacity",1)}$(document).ready((function(){var userInput;urlProvider=$("#bf-url-provider"),tagProvider=$("#bf-tag-provider"),$("#bf-user").autocomplete({minLength:1,source:urlProvider.data("user-autocomplete-url")}),$("#bf-date-start, #bf-date-end").datepicker(),$("#bf-repeat").on("change",updateForm),updateForm();var $editUser=$('#bf input[name="bf-edit-user"]'),$editBills=$('#bf input[name="bf-edit-bills"]');$editUser.length&&$editBills.length&&($editUser.on("change",(function(){$editBills.prop("checked",!1)})),$editBills.on("change",(function(){$editUser.prop("checked",!1)})));var formSubmit,form=$("#bf-submit").closest("form");form.on("submit",(function(){form.find(":disabled").removeAttr("disabled")}))}))}();