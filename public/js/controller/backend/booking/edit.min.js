!function(){var urlProvider,tagProvider;function updateForm(){var dateEnd=$("#bf-date-end"),payment=$("#bf-payment"),repeat=$("#bf-repeat"),rid;if("0"===repeat.val()?(disableFormElement(dateEnd),disableFormElement(payment)):(enableFormElement(dateEnd),enableFormElement(payment)),$("#bf-rid").val()){disableFormElement(repeat);var editMode=tagProvider.data("edit-mode-tag");console.log(payment.val()),"booking"==editMode?(disableFormElement("#bf-time-start"),disableFormElement("#bf-time-end"),disableFormElement("#bf-date-start"),disableFormElement("#bf-date-end"),disableFormElement("#bf-payment")):"reservation"==editMode&&(disableFormElement("#bf-user"),"0"==payment.val()&&(disableFormElement("#bf-status-billing"),disableFormElement("#bf-sid"),disableFormElement("#bf-notes")),disableFormElement("#bf-quantity"),disableFormElement("#bf-payment"),disableFormElement("#bf-date-end"))}}function disableFormElement(element){"string"==typeof element&&(element=$(element)),element.attr("disabled","disabled"),element.css("opacity",.5)}function enableFormElement(element){"string"==typeof element&&(element=$(element)),element.removeAttr("disabled"),element.css("opacity",1)}$(document).ready((function(){var userInput;urlProvider=$("#bf-url-provider"),tagProvider=$("#bf-tag-provider"),minInterval=$("#bf-min-interval").data("min-interval"),minTime=$("#bf-min-time").data("min-time"),maxTime=$("#bf-max-time").data("max-time"),$("#bf-user").autocomplete({minLength:1,source:urlProvider.data("user-autocomplete-url")}),$("#bf-date-start, #bf-date-end").datepicker(),initTimepicker(minInterval,minTime,maxTime),$("#bf-repeat").on("change",updateForm),updateForm();var $editUser=$('#bf input[name="bf-edit-user"]'),$editBills=$('#bf input[name="bf-edit-bills"]');$editUser.length&&$editBills.length&&($editUser.on("change",(function(){$editBills.prop("checked",!1)})),$editBills.on("change",(function(){$editUser.prop("checked",!1)})));var formSubmit,form=$("#bf-submit").closest("form");form.on("submit",(function(){form.find(":disabled").removeAttr("disabled")}))}))}();